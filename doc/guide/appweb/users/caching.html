<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Appweb 4.0.0 Documentation</title>
    <meta name="keywords" content="embedded web server, web server software, embedded HTTP, application web server, 
        embedded server, small web server, HTTP server, library web server, library HTTP, HTTP library" />
    <meta name="description" content="Embedthis Sofware provides commercial and open source embedded web servers for 
        devices and applications." />
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    <![endif]-->
</head>

<body>
    <div class="top">
        <a class="logo" href="http://appwebserver.org/">&nbsp;</a>
        <div class="topRight">
             <div class="search">
                 <form method="get" action="http://www.google.com/search" title="Search appwebserver.org">
                     <p>
                        <label title="Search">Search</label> 
                        <input type="text" id="q" name="q" size="15" maxlength="255" />
                        <input type="submit" id="submit" value="Go" /> 
                        <input type="hidden" name="domains" value="appwebserver.org" /> 
                        <input type="hidden" name="sitesearch" value="appwebserver.org" />
                    </p>
                 </form>
              </div>
            <!--TITLE-->Embedthis Appweb 4.0.0
        </div>
        <div class="crumbs">
            <a href="../../../product/index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">ESP Guide</a> &gt;<a href="frameworks.html">Web Frameworks</a>&gt;
            <b>Embedded Server Pages</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            <h2>Quick Nav</h2>
            <ul>
                <li><a href="#webServerInterface">Web Server Interface</a></li>
                <li><a href="#generator">Application Generator</a></li>
                <li><a href="#parser">Web Page Parser</a></li>
                <li><a href="#mvc">MVC</a></li>
                <li><a href="#models">Models</a></li>
                <li><a href="#views">Views</a></li>
                <li><a href="#viewPipeline">View Pipeline</a></li>
                <li><a href="#controllers">Controllers</a></li>
                <li><a href="#routing">Routing</a></li>
                <li><a href="#actions">Actions</a></li>
                <li><a href="#deployment">Developing</a></li>
                <li><a href="#deployment">Deployment</a></li>
            </ul>
<!-- BeginDsi "dsi/webFrameSeeAlso.html" -->
            <h2>See Also</h2>
            <ul>
                <li><a href="../../../guide/appweb/users/frameworks.html">Web Frameworks</a></li>
                <li><a href="../../../guide/appweb/users/cgi.html">CGI</a></li>
                <li><a href="../../../guide/appweb/users/esp/index.html">ESP</a></li>
                <li><a href="../../../guide/appweb/users/ejs.html">Ejscript</a></li>
                <li><a href="../../../guide/appweb/users/php.html">PHP</a></li>
                <li><a href="../../../guide/appweb/users/index.html">User Guide Overview</a></li>
                <li><a href="../../../guide/appweb/users/configuration.html">Configuring Appweb</a></li>
                <li><a href="../../../guide/appweb/users/ports.html">Ports and Binding</a></li>
                <li><a href="../../../guide/appweb/users/authorization.html">User Authorization</a></li>
                <li><a href="../../../guide/appweb/users/logFiles.html">Log Files</a></li>
                <li><a href="../../../guide/appweb/users/vhosts.html">Virtual Hosts</a></li>
                <li><a href="../../../guide/appweb/users/security.html">Security Considerations</a></li>
                <li><a href="../../../guide/appweb/users/ssl.html">SSL</a></li>
                <li><a href="../../../guide/appweb/users/modules.html">Loadable Modules</a></li>
                <li><a href="../../../guide/appweb/users/stages.html">Pipeline Stages</a></li>
                <li><a href="../../../guide/appweb/users/client.html">HTTP Client</a></li>
                <li><a href="../../../ref/appweb/architecture.html">Appweb Architecture</a></li>
            </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
            <h1>Response Caching</h1>
            <p>Response caching is an ideal technique for speeding up a wide variety of web applications. By 
            caching frequently used pages, those pages can be served faster than the normal approach of generating
            the web page each and every time the user visits the page. However, caching can be a complex topic
            as there are several places to locate the cached content and many ways to configure the overal caching
            architecture. This document provides a basic overview of Appweb caching and its caching capabilities.</p>
            <h2>Why Cache?</h2>
            <p>A typical PHP web page that accesses a database may take a tenth of a second to serve</p>
            <p><img class="xbare-screen" src="../../../images/caching/caching-steps.jpg" /></p>
<pre>
. Why caching 
    - Performance comparisons
    - Issues
        - CGI/PHP very slow page generation
        - Many views > updates
        - Slow network latency and transmission
- Level of Caching
        - Client not cached, server not cached. Normal page generation. 
            Capture output for next request. If next request comes before 
            content expires, can use that.
        - Client not cached, server cached. Client requests, servers has 
            fresh cached content. Sends content.
        - Client cache and server cache. Client requests, server validates 
            and responds with not-modified
        - Client cached data and cache configured to not ask server
        (NOTE: can use client and server caching)
- Places to Cache
    - Client side
        - Pros and cons
    - Server side
        - Server side - no generation
        - Server side - PLUS no transmission (if-modified)
            - Better than client side in many cases
        - Manual - test if content fresh in handler and render cache 
            or recompute. (Pro: ... have full control, Con: a bit slower)
        - Event driven - build page on update event not on user view
            - (pro - good if viewed much more than updated and must never 
                serve stale content)
        - Pros and cons
- Server-Side Caching Paradigms
    - Server-side pull-through caching
        - Picture
        - Client reloading
        - Client If-Modified and etags
    - Server-side event driven cache updates
. Modes of server caching
    Overview
        - Request parameters
            - Caching Post requests
    - Server combined
    - Server unique
    - Server only
    - Server manual
    - Client
. Directives
    - Lifespans
    - Synopsis
. LimitCache Memory
. API usage
    - ESP manual caching

. Examples
    Cache 86000
    Cache client=86400 ext="gif,jpg,png,ico"
    Cache server methods="GET"
    Cache server methods="GET,POST" /status.esp /inventory.esp
    Cache server methods="GET,POST" /status.esp /inventory.esp
    Cache server only /user/login.esp?first=1
    Cache server all /user/login.esp
    Cache server unique /user/login.esp
    Cache server manual /dashboard.esp

- Questions to ask
    - Can I serve stale content. If yes, how stale. Use client-caching.
    - How frequently is this content accessed. If frequent, consider server caching.
    - Is the content updated more than viewed, then use pull-through
    - If viewed more than much more than updated
        - use event driven updates to generate page
    - If views more than updated, but cost of checking in handler is acceptable
        - then use manual cache updates in handler
</pre>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->

	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2011. 
            All rights reserved. Embedthis, ESP, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
<!-- EndDsi -->
</body>
</html>
