<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Appweb 4.0.0 Documentation</title>
    <meta name="keywords" content="embedded web server, web server software, embedded HTTP, application web server, 
        embedded server, small web server, HTTP server, library web server, library HTTP, HTTP library" />
    <meta name="description" content="Embedthis Sofware provides commercial and open source embedded web servers for 
        devices and applications." />
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    <![endif]-->
</head>

<body>
    <div class="top">
        <a class="logo" href="http://appwebserver.org/">&nbsp;</a>
        <div class="topRight">
             <div class="search">
                 <form method="get" action="http://www.google.com/search" title="Search appwebserver.org">
                     <p>
                        <label title="Search">Search</label> 
                        <input type="text" id="q" name="q" size="15" maxlength="255" />
                        <input type="submit" id="submit" value="Go" /> 
                        <input type="hidden" name="domains" value="appwebserver.org" /> 
                        <input type="hidden" name="sitesearch" value="appwebserver.org" />
                    </p>
                 </form>
              </div>
            <!--TITLE-->Embedthis Appweb 4.0.0
        </div>
        <div class="crumbs">
            <a href="../../../product/index.html">Home</a>
<!-- EndDsi -->
             &gt; <a href="index.html">ESP Guide</a> &gt; <b>Web Framework Tour</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            <h2>Quick Nav</h2>
            <ul>
                <li><a href="#blog">Blog App</a></li>
                <li><a href="#create">Creating a New App</a></li>
                <li><a href="#run">Run the App</a></li>
                <li><a href="#hello">Hello World</a></li>
                <li><a href="#layout">Layout Pages</a></li>
                <li><a href="#dynamic">Dynamic Content</a></li>
                <li><a href="#scaffolds">Scaffolds</a></li>
                <li><a href="#newPosts">Create New Posts</a></li>
                <li><a href="#homePage">Edit the Home Page</a></li>
                <li><a href="#layout">Changing the Layout</a></li>
                <li><a href="#validations">Validations</a></li>
                <li><a href="#learn">Learn More</a></li>
            </ul>
<!-- BeginDsi "dsi/espSeeAlso.html" -->
		        <h2>See Also</h2>
		        <ul>
		          <li><a href="../../../../../../guide/appweb/esp/using.html">ESP Overview</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/tour.html">ESP Tour</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/template.html">Templates and Layouts</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/controls.html">HTML Controls</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/config.html">ESP Configuration Directives</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/routing.html">ESP Routing and REST</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/mvc.html">Model-View-Controller</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/generator.html">Application Generator</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/controllers.html">Controllers and Actions</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/database.html">Database Interface</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/caching.html">Caching Responses</a></li>
		        </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
            <h1>ESP Web Framework Tour</h1>
            <p>This quick tour of the ESP Web Framework provides an overview of ESP and how to use it in web pages.
            First make sure you have read the <a href="../../appweb/users/quickStart.html">Quick Start</a> and 
            that you have ESP installed on your system so you can type along as you go.</p>
            
            <h2 class="section">Starting Appweb</h2>
            <p>When Appweb is installed, it will start automatically and run in the background. You can start and stop
            Appweb via the "<tt>appman</tt>" command.
<pre>
appman start
appman stop
</pre>
            <p>Type <tt>appman</tt> -? to see a list of options. See <a href="guide/appweb/users/service.html">
                Running Appweb as a System Service</a> for platform specific details about starting and stopping Appweb.</p>
            
            <h3>Manually Running Appweb</h3>
            
            <p>When developing, it can be most convenient to run Appweb manually. To run Appweb directly, use this command:
<pre>
sudo appweb -v
</pre>
            <p>You must be in the Appweb server root directory containing an <tt>appweb.conf</tt> configuration file.</p>
            
            
            <h2 class="section">Testing Appweb</h2>
            To test Appweb, enter
            <tt>localhost/test.esp</tt> in your browser. You should see the following page:</p>
            
            <img src="../../../images/esp/tour/home.png" class="screen" alt="" />


            <a name="hello" id="hello"></a>
            <h2 class="section">Hello World</h2>
            <p>The first step in any tour is to create a simple "Hello World" web page. ESP web pages have an <b>.esp</b>
            extension. Create a file called <tt>hello.esp</tt> under the directory nominated as your <tt>DocumentRoot</tt> 
            directory in the <tt>appweb.conf</tt> configuration file. Create a file with your favorite text editor with 
            the following content:</p>
            <pre>
&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;Hello World&lt;/h1&gt;
&lt;/body&gt;
</pre>
            <p>Don't worry about the layout directive for now, that tells ESP not to use a layout page.</p>
            <p>To view the "Hello" web page in your browser, type in the following url:
            http://localhost/hello.esp.</p>
            <img src="../../../images/esp/tour/hello.png" alt="hello" class= "screen" /> 

            <a name="dynamic" id="dynamic"></a>
            <h2 class="section">Dynamic Content</h2>
            <p>While that was fun, the output is static and boring, so let's add some dynamic content. You can embed
            "C" language code and ESP function calls  by including them inside a special ESP web page directive that 
            will be executed and converted to HTML before being sent to the client. There are a variety of server-side 
            ESP web page directives, the one you'll use first, is: </p>
            <p><b>&lt;%= expression %&gt;</b>.</p>
            <p>To add the current date and time, modify the hello.esp web page and add the highlighted line:</p>
            <pre>
&lt;h1&gt;Hello Bright World&lt;/h1&gt;
&lt;h2&gt;<b>Generated on &lt;%= mprGetDate(0); %&gt;</b>&lt;/h2&gt;
</pre>
            <p>Now when you re-run the page, it will display the current date and time. If you refresh the page by
            pressing reload, the new date and time will be displayed.</p>
            
            
            <img src=
            "../../../images/esp/tour/hello-dynamic.png" alt="hello" class="screen" />
            <h4>No Restart Require</h4>
            <p>Notice that you did not have to restart the web server, nor did you have to manually recompile the
            ESP code. Rather, ESP transparently recompiled the web page in the background. ESP noticed that the hello.esp
            web page has been modified and it re-parsed and compiled it into a loadable module, ready for
            execution. This web module is then cached in-memory and on-disk for fast execution.</p>
            <p>You can also embed more complex ESP into our page, like:</p>
            <pre>
<b>&lt;h3&gt;&lt;% render("Request method is %s", getMethod()); %&gt;&lt;/h3&gt;</b>
<b>&lt;% 
    int i;
    for (int i = 0; i < 10; i++) {
        render(" Line: %d&lt;/br&gt;\r\n", i);
    } 
%&gt;</b>
</pre>
            <p>By using the ESP statement directive <b>&lt;% code %&gt;</b>, you can embed arbitrary "C" language
            statements in your web page. The <b>render</b> function allows you to write arbitrary data which is patched
            back where the directive was defined in the page. See the <a href="views.html">Views and Layouts</a>
            document for full details about all the ESP web page directives.</p><a name="views" id="views"></a>


            <a name="layouts" id="layouts"></a>
            <h2>Layouts</h2>
            <p>The ESP templating engine can apply a layout page to allow each page so that it inherits its layout and
            look and feel from a master layout page. The ESP layout directive allows you to control what layout
            page (if any) is used. In the previous example, we set the layout page to "" which means &mdash; 
            "don't use a layout page". If we remove that directive, the page will use the default layout. In this case
            we remove the html and body elements as well as the layout page has been defined with those. The new page 
            now has a single line.</p>
            <pre>
&lt;h1&gt;Hello Bright World&lt;/h1&gt;
</pre>
            <p>And the web page now looks like this in your browser:
            <img src="../../../images/esp/tour/hello-layout.png" alt="hello" class= "screen" /> 
            

            <a name="learn" id="learn"></a>
            <h2 class="section">Learn More ...</h2>
            <p>That concludes the a quick tour through some of the capabilities of the ESP web framework.</p>
            <p>To learn more, please read the rest of the <a href="../../../index.html">ESP Documentation</a>,
            the <a href="../../../ref/esp/webArchitecture.html">ESP Web Framework Architecture</a>, the 
            <a href="mvc.html">ESP MVC Framework</a> and the <a href="mvcTour.html">MVC Tour</a>. You may also
            like to ask questions at the <a href="http://www.ejscript.org/forum/">ESP Support Forum</a>.</p>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->

	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2011. 
            All rights reserved. Embedthis, ESP, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
<!-- EndDsi -->
</body>
</html>
