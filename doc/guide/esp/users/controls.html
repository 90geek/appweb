<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Appweb 4.0.0 Documentation</title>
    <meta name="keywords" content="embedded web server, web server software, embedded HTTP, application web server, 
        embedded server, small web server, HTTP server, library web server, library HTTP, HTTP library" />
    <meta name="description" content="Embedthis Sofware provides commercial and open source embedded web servers for 
        devices and applications." />
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    <![endif]-->
</head>

<body>
    <div class="top">
        <a class="logo" href="http://appwebserver.org/">&nbsp;</a>
        <div class="topRight">
             <div class="search">
                 <form method="get" action="http://www.google.com/search" title="Search appwebserver.org">
                     <p>
                        <label title="Search">Search</label> 
                        <input type="text" id="q" name="q" size="15" maxlength="255" />
                        <input type="submit" id="submit" value="Go" /> 
                        <input type="hidden" name="domains" value="appwebserver.org" /> 
                        <input type="hidden" name="sitesearch" value="appwebserver.org" />
                    </p>
                 </form>
              </div>
            <!--TITLE-->Embedthis Appweb 4.0.0
        </div>
        <div class="crumbs">
            <a href="../../../product/index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">ESP Guide</a>&gt; <b>HTML Controls</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            <h2>Quick Nav</h2>
            <ul class="nav">
                <li><a href="#libraries">Ajax Libraries</a></li>
                <li><a href="#dynamic">Dynamic Controls</a></li>
            </ul>
<!-- BeginDsi "dsi/espSeeAlso.html" -->
		        <h2>See Also</h2>
		        <ul class="nav">
		          <li><a href="../../../../../../guide/appweb/esp/using.html">ESP Overview</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/tour.html">ESP Tour</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/template.html">Templates and Layouts</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/controls.html">HTML Controls</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/config.html">ESP Configuration Directives</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/routing.html">ESP Routing and REST</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/mvc.html">Model-View-Controller</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/generator.html">Application Generator</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/controllers.html">Controllers and Actions</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/database.html">Database Interface</a></li>
		          <li><a href="../../../../../../guide/appweb/esp/caching.html">Caching Responses</a></li>
		        </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
<pre>
- Overview 
    - why controls
- List of controls
    - Links to per-control discussions
- How options are handled
    - Standard options
- jQuery / Ajax support
    - minified libraries
- Dynamic refresh
- Using database integration
    - current record
    - Open databases in appweb.conf
- Using controls without a database
- Per controls 
    - form errors
    - Style sheets and theming
    - text and escaping data - escape option, renderSafe()
- MOB 
    - ESP and Abbreviated API (where should this be)?
</pre>
            <h1>ESP Web Controls</h1>
            <p>ESP provides a rich library of web control functions. The purpose of these controls is to provide
            a higher level of interacting with the elements of a web page. Controls are provided to generate tables and
            tabbed property sheets, and manage input forms and fields. Furthermore, these controls are pre-integrated with the
            jQuery client-side JavasCript library and may optionally bind with server-side databases data.</p>
            <p>ESP web controls are just "C" language functions that emit HTML according to their arguments. 
            Here is a quick sample of some of the ESP controls in action:</p>
<pre>
buttonLink("New Post", "@init", 0);
table(data, "{ \
    columns: { \
        id: { header: 'ID' }, \
        title: { header: 'TITLE' }, \
        body: { header: 'BODY' }, \
    }");
</pre>
            <h2 class="section">Control Families</h2>
            <p>ESP Controls are grouped into two families: 
            <ul>
                <li>Form-based controls that do input
                <li>Non form-based that do output and other tasks
            </ul>
            <p>Form-based controls are typically located inside a <tt>form</tt>/<tt>endform</tt> control 
            pair that defines a current database record from which data will be utilized. Non form-based controls 
            can be used anywhere on a page outside a form or endform group.</p>
            <h3>Control Options</h3>
            <p>ESP controls are generally of the form: function(args ..., options). The options argument is an optional 
            set of properties to modify the behaviour of the control. It is in the form of a 
            <a href="http://en.wikipedia.org/wiki/JSON">JSON</a> string where a set of properties are enclosed in 
            braces. Each property keyword is followed by a colon. It helps to use single quotes around property values
            and use double quotes around the entire option string. 
            </p>
<pre>
label("Hello World", "{ effects: 'fadein' }");
</pre>
            <p>ESP supports a large suite of options, but there is a common set that are applicable to most ESP controls.</p>
            <table>
                <thead>
                </thead>
                <tbody>
                    <tr></tr>
                </tbody>
            </table>
            <h2 class="section">AJAX and Client JavaScript Libraries</h1>
            <p>Web applications split their processing between the server and the client. Increasingly, more processing
            is being done at the client to give a better overall user experience. <a href=
            "http://en.wikipedia.org/wiki/Ajax_(programming)">Ajax</a> programming has risen as one of the more popular
            means of achieving responsive client user interfaces and <a href="http://jquery.com/">jQuery</a> has emerged as 
            one of the best client-side Ajax libraries.</p>
            
            <p>Consequently, it is very important that the server-side 
            web framework integrate well with the client-side JavaScript library. ESP is thoroughly integrated 
            with jQuery and provides a jQuery client-side adapter and automatically generates the necessary HTML for
            dynamic and background requests.</p>
            <h2 class="section">Database Integration</h1>
            <a name="dynamic" id="dynamic"></a>
            <h3>Dynamic Controls</h3>
            <p>ESP controls can dynamically retrieve data from databases and refresh their contents automatically.</p>
            <p>Here is an example of a table configured to display stock market data in a grid with the current price
            for each stock. The grid will refresh its data every 2 seconds without updating the entire web page.</p>
            <pre>
            MOB - is this refresh or data-refresh?
&lt;%
    table(Stock.findAll(), {
        refresh: 2,
        click: "edit",
        columns: {
            ticker:         { },
            stockName:      { },
            price:          { render: currency("$$%,d") },
        },
        connector: "google",
        width: "80%",
}) %&gt;
</pre><!-- TODO more on charts and tables
            <p>ESP input controls are generally of the form: function(field, options) where <tt>field</tt> is the 
            name of a field in the current database record that contains the data to display. 
            The <tt>form</tt> control defines a current database record up to the next <tt>endform</tt> control. 
            In between, controls can access data in the current record by field name.
<pre>
form(readRecByKey("users", "John Smith"), 0);
    text("username", 0);
    text("password", "{ password: 'true' }");
endform(0, 0);
</pre>
            <p>This will display the <tt>username</tt> field in the current database record.
               <h2 class="section">Table Control</h2>
               <h2 class="section">Chart Control</h2>
           -->
            <a name="viewConnector" id="viewConnector"></a>
            <h2>HTML Controls</h2>
            <table summary="">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>alert</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>anchor</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>button</td>
                        <td>Render a form button</td>
                    </tr>
                    <tr>
                        <td>buttonLink</td>
                        <td>Render a link button</td>
                    </tr>
                    <tr>
                        <td>chart</td>
                        <td>Render a graphical chart</td>
                    </tr>
                    <tr>
                        <td>checkbox</td>
                        <td>Render an input checkbox</td>
                    </tr>
                    <tr>
                        <td>div</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>dropdown</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>endform</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>flash</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>form</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>icon</td>
                        <td>Render an image</td>
                    </tr>
                    <tr>
                        <td>image</td>
                        <td>Render an image</td>
                    </tr>
                    <tr>
                        <td>input</td>
                        <td>Smart input control. Delegates depending on the data type.</td>
                    </tr>
                    <tr>
                        <td>label</td>
                        <td>Render a text label</td>
                    </tr>
                    <tr>
                        <td>mail</td>
                        <td>Render a mail link</td>
                    </tr>
                    <tr>
                        <td>progress</td>
                        <td>Render a progress bar</td>
                    </tr>
                    <tr>
                        <td>radio</td>
                        <td>Render an input radio button</td>
                    </tr>
                    <tr>
                        <td>refresh</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>script</td>
                        <td>Render a script tag</td>
                    </tr>
                    <tr>
                        <td>securityToken</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>stylesheet</td>
                        <td>Render a stylesheet tag</td>
                    </tr>
                    <tr>
                        <td>table</td>
                        <td>Render a table</td>
                    </tr>
                    <tr>
                        <td>tabs</td>
                        <td>Render a tab selection control</td>
                    </tr>
                    <tr>
                        <td>text</td>
                        <td>Render an input text field</td>
                    </tr>
                    <tr>
                        <td>tree</td>
                        <td>Render a tree control</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->

	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2011. 
            All rights reserved. Embedthis, ESP, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
<!-- EndDsi -->
</body>
</html>
