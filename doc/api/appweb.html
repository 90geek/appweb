<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<title>Appweb Native API Documentation</title>
<link href="api.css" rel="stylesheet" type="text/css" />
</head>
<body>

  <div class="contents">
<div>
<a href="#Components">Components</a> | <a href="#Typedefs">Typedefs</a> | <a href="#Functions">Functions</a> | <a href="#Defines">Defines</a>
</div>
<h1>Appweb Native API</h1>
<a name="Components"></a><h1>Components</h1>
  <table class="apiIndex" summary="Components">
<tr class="apiDef">
<td class="apiName"><a href="#group___http" class="nameRef">Http</a></td>
<td class="apiBrief">Appweb Service.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___http_server" class="nameRef">HttpServer</a></td>
<td class="apiBrief">MaServer Control - An application may have any number of HTTP servers, each managed by an instance of the Server class.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_alias" class="nameRef">MaAlias</a></td>
<td class="apiBrief">Aliases.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_dir" class="nameRef">MaDir</a></td>
<td class="apiBrief">Directory Control.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_group" class="nameRef">MaGroup</a></td>
<td class="apiBrief">Group Authorization.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_host" class="nameRef">MaHost</a></td>
<td class="apiBrief">Host Object A Host object represents a logical host.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_host_address" class="nameRef">MaHostAddress</a></td>
<td class="apiBrief">Host Address Mapping.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_mime_type" class="nameRef">MaMimeType</a></td>
<td class="apiBrief">Mime Type hash table entry (the URL extension is the key).</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_user" class="nameRef">MaUser</a></td>
<td class="apiBrief">User Authorization File based authorization backend.</td></tr>
</table>
<a name="Functions"></a><h1>Functions</h1>
  <table class="apiIndex" summary="Functions">
<tr class="apiDef">
<td class="apiType"><a href="#struct_ma_appweb" class="ref">MaAppweb*</a></td><td><a href="#group___http_1g7031784d2ac85f9f265d46218b9e6417" class="nameRef">maCreateAppweb</a>(MprCtx ctx)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create the Appweb object.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_1g29500f7d8b117921cf5c68beb7ef40ad" class="nameRef">maSetHttpGroup</a>(<a href="#struct_ma_appweb" class="ref">MaAppweb</a> *appweb,  cchar *group)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set the Http Group.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_1gf824d096f9596ebf8840d7e8d005baad" class="nameRef">maSetHttpUser</a>(<a href="#struct_ma_appweb" class="ref">MaAppweb</a> *appweb,  cchar *user)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set the Http User.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_1gad2b501a1eef1b0210189ef055c4f158" class="nameRef">maStartAppweb</a>(<a href="#struct_ma_appweb" class="ref">MaAppweb</a> *appweb)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Start Appweb services.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_1ge98b753968134ec1c2bc50d5d63b2a1f" class="nameRef">maStopAppweb</a>(<a href="#struct_ma_appweb" class="ref">MaAppweb</a> *appweb)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Stop Appweb services.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="nameRef">maConfigureServer</a>(<a href="#struct_ma_server" class="ref">MaServer</a> *server,  cchar *configFile,  cchar *serverRoot,  cchar *documentRoot,  cchar *ip,  int port)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Configure a web server.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#struct_ma_server" class="ref">MaServer*</a></td><td><a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="nameRef">maCreateServer</a>(<a href="#struct_ma_appweb" class="ref">MaAppweb</a> *appweb,  cchar *name,  cchar *root,  cchar *ip,  int port)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a HttpServer object.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#struct_ma_server" class="ref">MaServer*</a></td><td><a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="nameRef">maCreateWebServer</a>(cchar *configFile)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a web server.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="nameRef">maLoadStaticModules</a>(<a href="#struct_ma_appweb" class="ref">MaAppweb</a> *appweb)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Load static modules.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="nameRef">maRunSimpleWebServer</a>(cchar *ip,  int port,  cchar *docRoot)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create and run a simple web server listening on a single IP address.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="nameRef">maRunWebServer</a>(cchar *configFile)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create and run a web server based on a configuration file.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="nameRef">maServiceWebServer</a>(<a href="#struct_ma_server" class="ref">MaServer</a> *server)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Service a web server.</td></tr>
</table>
<a name="Typedefs"></a><h1>Typedefs</h1>
<table class="apiIndex" summary="typedefs">
</table>
<a name="Defines"></a><h1>Defines</h1>
<table class="apiIndex" summary="Defines">
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_127283ab78623d9cea7327842e861d46d" class="nameRef">_h_APPWEB_MONITOR</a>&nbsp;&nbsp;&nbsp;1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>appwebMonitor.h - Monitor Header.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1f38b73239bd3266300cb808880e22cac" class="nameRef">MA_EJS_START</a>&nbsp;&nbsp;&nbsp;&quot;start.es&quot;</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Default ejs startup script.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_10f3ef26669049854a44cb4febd5a9d06" class="nameRef">MA_MAX_ACCESS_LOG</a>&nbsp;&nbsp;&nbsp;20971520</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Access file size (20 MB).</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_196fc829fd68edb25c6cc34cb87486b5c" class="nameRef">MA_MAX_CONFIG_DEPTH</a>&nbsp;&nbsp;&nbsp;16</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Max nest of directives in config file.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_159f4c03bc579e6720e8dfc3105330301" class="nameRef">MA_MAX_REWRITE</a>&nbsp;&nbsp;&nbsp;10</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Maximum recursive URI rewrites.</td></tr>
  </table>
<h1>Http</h1>
<a name="group___http"></a>
<div class="api">
  <div class="prototype">Http</div>
  <div class="apiDetail">
<p>Appweb Service.</p>
    <dl><dt><b>Description</b>:</dt><dd>There is one instance of Http per application. It manages a list of HTTP servers running in the application.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<a name="group___http_1g7031784d2ac85f9f265d46218b9e6417"></a>
<div class="api">
  <div class="prototype">
    <a href="#struct_ma_appweb" class="ref">MaAppweb</a> *
    maCreateAppweb
(MprCtx ctx)
  </div>
  <div class="apiDetail">
<p>Create the Appweb object.</p>
    <dl><dt><b>Description</b>:</dt><dd>Appweb uses a singleton Appweb object to manage multiple web servers instances.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ctx</td><td>Any memory context object returned by mprAlloc.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A Http object. Use mprFree to close and release.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http" class="ref">Http</a></dd></dl>
  </div>
</div>
<a name="group___http_1g29500f7d8b117921cf5c68beb7ef40ad"></a>
<div class="api">
  <div class="prototype">
    int
    maSetHttpGroup
(MaAppweb *appweb, cchar *group)
  </div>
  <div class="apiDetail">
<p>Set the Http Group.</p>
    <dl><dt><b>Description</b>:</dt><dd>Define the group name under which to run the Appweb service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object created via maCreateHttp.</td>
    <tr><td class="param">group</td><td>Group name. Must be defined in the system group file.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http" class="ref">Http</a></dd></dl>
  </div>
</div>
<a name="group___http_1gf824d096f9596ebf8840d7e8d005baad"></a>
<div class="api">
  <div class="prototype">
    int
    maSetHttpUser
(MaAppweb *appweb, cchar *user)
  </div>
  <div class="apiDetail">
<p>Set the Http User.</p>
    <dl><dt><b>Description</b>:</dt><dd>Define the user name under which to run the Appweb service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object created via maCreateHttp.</td>
    <tr><td class="param">user</td><td>User name. Must be defined in the system password file.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http" class="ref">Http</a></dd></dl>
  </div>
</div>
<a name="group___http_1gad2b501a1eef1b0210189ef055c4f158"></a>
<div class="api">
  <div class="prototype">
    int
    maStartAppweb
(MaAppweb *appweb)
  </div>
  <div class="apiDetail">
<p>Start Appweb services.</p>
    <dl><dt><b>Description</b>:</dt><dd>This starts listening for requests on all configured servers.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object created via maCreateHttp.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http" class="ref">Http</a></dd></dl>
  </div>
</div>
<a name="group___http_1ge98b753968134ec1c2bc50d5d63b2a1f"></a>
<div class="api">
  <div class="prototype">
    int
    maStopAppweb
(MaAppweb *appweb)
  </div>
  <div class="apiDetail">
<p>Stop Appweb services.</p>
    <dl><dt><b>Description</b>:</dt><dd>This stops listening for requests on all configured servers. Shutdown is somewhat graceful.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object created via maCreateHttp.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http" class="ref">Http</a></dd></dl>
  </div>
</div>
<h1>HttpServer</h1>
<a name="group___http_server"></a>
<div class="api">
  <div class="prototype">HttpServer</div>
  <div class="apiDetail">
<p>MaServer Control - An application may have any number of HTTP servers, each managed by an instance of the Server class.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="ref">maConfigureServer</a>, <a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="ref">maCreateServer</a>, <a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="ref">maCreateWebServer</a>, <a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="ref">maLoadStaticModules</a>, <a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="ref">maRunSimpleWebServer</a>, <a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="ref">maServiceWebServer</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<a name="group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93"></a>
<div class="api">
  <div class="prototype">
    int
    maConfigureServer
(MaServer *server, cchar *configFile, cchar *serverRoot, cchar *documentRoot, cchar *ip, int port)
  </div>
  <div class="apiDetail">
<p>Configure a web server.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will configure a web server based on either a configuration file or using the supplied IP address and port.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">server</td><td>MaServer object created via <a class="ref" href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16">maCreateServer</a>.</td>
    <tr><td class="param">configFile</td><td>File name of the Appweb configuration file (appweb.conf) that defines the web server configuration.</td>
    <tr><td class="param">serverRoot</td><td>Admin directory for the server. This overrides the value in the config file.</td>
    <tr><td class="param">documentRoot</td><td>Default directory for web documents to serve. This overrides the value in the config file.</td>
    <tr><td class="param">ip</td><td>IP address to listen on. This overrides the value specified in the config file.</td>
    <tr><td class="param">port</td><td>Port address to listen on. This overrides the value specified in the config file.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server" class="ref">HttpServer</a>, <a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="ref">maCreateServer</a>, <a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="ref">maCreateWebServer</a>, <a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="ref">maLoadStaticModules</a>, <a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="ref">maRunSimpleWebServer</a>, <a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16"></a>
<div class="api">
  <div class="prototype">
    <a href="#struct_ma_server" class="ref">MaServer</a> *
    maCreateServer
(MaAppweb *appweb, cchar *name, cchar *root, cchar *ip, int port)
  </div>
  <div class="apiDetail">
<p>Create a HttpServer object.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create new HttpServer object. This routine creates a bare HttpServer object, loads any required static modules and performs minimal configuration. To use the server object created, more configuration will be required before starting Http services. If you want a one-line embedding of Appweb, use <a class="ref" href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4">maRunWebServer</a> or <a class="ref" href="#group___http_server_1g873953e4df40b4984420194dc0612765">maRunSimpleWebServer</a>.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object returned from maCreateHttp.</td>
    <tr><td class="param">name</td><td>Name of the web server. This name is used as the initial server name.</td>
    <tr><td class="param">root</td><td>Server root directory.</td>
    <tr><td class="param">ip</td><td>If not-null, create and open a listening endpoint on this IP address. If you are configuring via a config file, use <a class="ref" href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93">maConfigureServer</a> and set ip to null.</td>
    <tr><td class="param">port</td><td>Port number to listen on. Set to -1 if you do not want to open a listening endpoint on ip:port.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>HttpServer A newly created HttpServer object. Use mprFree to free and release.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server" class="ref">HttpServer</a>, <a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="ref">maConfigureServer</a>, <a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="ref">maCreateWebServer</a>, <a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="ref">maLoadStaticModules</a>, <a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="ref">maRunSimpleWebServer</a>, <a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e"></a>
<div class="api">
  <div class="prototype">
    <a href="#struct_ma_server" class="ref">MaServer</a> *
    maCreateWebServer
(cchar *configFile)
  </div>
  <div class="apiDetail">
<p>Create a web server.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a web server configuration based on the supplied config file. Once created, the web server should be run by calling <a class="ref" href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9">maServiceWebServer</a>. Use this routine when you need access to the Http object. If you want a one-line embedding of Appweb, use <a class="ref" href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4">maRunWebServer</a> or <a class="ref" href="#group___http_server_1g873953e4df40b4984420194dc0612765">maRunSimpleWebServer</a>.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">configFile</td><td>File name of the Appweb configuration file (appweb.conf) that defines the web server configuration.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Http object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server" class="ref">HttpServer</a>, <a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="ref">maConfigureServer</a>, <a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="ref">maCreateServer</a>, <a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="ref">maLoadStaticModules</a>, <a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="ref">maRunSimpleWebServer</a>, <a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f"></a>
<div class="api">
  <div class="prototype">
    void
    maLoadStaticModules
(MaAppweb *appweb)
  </div>
  <div class="apiDetail">
<p>Load static modules.</p>
    <dl><dt><b>Description</b>:</dt><dd>Load the statically configured modules, handlers, filters and connectors. The configure program can specify a static or shared build of Appweb. The <a class="ref" href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16">maCreateServer</a> routine will call maLoadStaticModules automatically. It should not be called by in user programs.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object created via maCreateHttp.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server" class="ref">HttpServer</a>, <a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="ref">maConfigureServer</a>, <a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="ref">maCreateServer</a>, <a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="ref">maCreateWebServer</a>, <a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="ref">maRunSimpleWebServer</a>, <a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___http_server_1g873953e4df40b4984420194dc0612765"></a>
<div class="api">
  <div class="prototype">
    int
    maRunSimpleWebServer
(cchar *ip, int port, cchar *docRoot)
  </div>
  <div class="apiDetail">
<p>Create and run a simple web server listening on a single IP address.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a simple web server without using a configuration file. The server is created to listen on the specified IP addresss and port. This routine provides is a one-line embedding of Appweb. If you want to use a config file, try the <a class="ref" href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4">maRunWebServer</a> instead. If you need more control, try <a class="ref" href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e">maCreateWebServer</a> which exposes the Http object.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ip</td><td>IP address on which to listen. Set to &quot;0.0.0.0&quot; to listen on all interfaces.</td>
    <tr><td class="param">port</td><td>Port number to listen to.</td>
    <tr><td class="param">docRoot</td><td>Directory containing the documents to serve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server" class="ref">HttpServer</a>, <a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="ref">maConfigureServer</a>, <a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="ref">maCreateServer</a>, <a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="ref">maCreateWebServer</a>, <a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="ref">maLoadStaticModules</a>, <a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___http_server_1g4994c273e87409b094418dd7bd370ee4"></a>
<div class="api">
  <div class="prototype">
    int
    maRunWebServer
(cchar *configFile)
  </div>
  <div class="apiDetail">
<p>Create and run a web server based on a configuration file.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a web server configuration based on the supplied config file. This routine provides is a one-line embedding of Appweb. If you don&apos;t want to use a config file, try the <a class="ref" href="#group___http_server_1g873953e4df40b4984420194dc0612765">maRunSimpleWebServer</a> instead. If you need more control, try <a class="ref" href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e">maCreateWebServer</a> which exposes the Http object.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">configFile</td><td>File name of the Appweb configuration file (appweb.conf) that defines the web server configuration.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server" class="ref">HttpServer</a>, <a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="ref">maConfigureServer</a>, <a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="ref">maCreateServer</a>, <a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="ref">maCreateWebServer</a>, <a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="ref">maLoadStaticModules</a>, <a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="ref">maRunSimpleWebServer</a>, <a href="#group___http_server_1g4a2f9501514bf2193c90a03f15635db9" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___http_server_1g4a2f9501514bf2193c90a03f15635db9"></a>
<div class="api">
  <div class="prototype">
    int
    maServiceWebServer
(MaServer *server)
  </div>
  <div class="apiDetail">
<p>Service a web server.</p>
    <dl><dt><b>Description</b>:</dt><dd>Run a web server configuration. This is will start http services via maStartHttp and will service incoming Http requests until instructed to exit. This is often used in conjunction with <a class="ref" href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e">maCreateWebServer</a>.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object created via <a class="ref" href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e">maCreateWebServer</a> or maCreateHttp.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___http_server" class="ref">HttpServer</a>, <a href="#group___http_server_1gbbd05370ab870c51ce3b988c4d9fac93" class="ref">maConfigureServer</a>, <a href="#group___http_server_1g9bba7d7e7a1328feb9b159b1f88b4e16" class="ref">maCreateServer</a>, <a href="#group___http_server_1g8c3f14dce5b7efcff18ad607aea7522e" class="ref">maCreateWebServer</a>, <a href="#group___http_server_1g1f3f8bdcdcb9fc7c558c6ea595a8368f" class="ref">maLoadStaticModules</a>, <a href="#group___http_server_1g873953e4df40b4984420194dc0612765" class="ref">maRunSimpleWebServer</a>, <a href="#group___http_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a></dd></dl>
  </div>
</div>
<h1>MaAlias</h1>
<a name="group___ma_alias"></a>
<div class="api">
  <div class="prototype">MaAlias</div>
  <div class="apiDetail">
<p>Aliases.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">char *</td><td><td>filename</td><td>
Alias to a physical path name.
</td>
    <tr><td class="param">char *</td><td><td>prefix</td><td>
Original URI prefix.
</td>
    <tr><td class="param">int</td><td><td>prefixLen</td><td>
Prefix length.
</td>
    <tr><td class="param">char *</td><td><td>uri</td><td>
Redirect to a uri.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaDir</h1>
<a name="group___ma_dir"></a>
<div class="api">
  <div class="prototype">MaDir</div>
  <div class="apiDetail">
<p>Directory Control.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<h1>MaGroup</h1>
<a name="group___ma_group"></a>
<div class="api">
  <div class="prototype">MaGroup</div>
  <div class="apiDetail">
<p>Group Authorization.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<h1>MaHost</h1>
<a name="group___ma_host"></a>
<div class="api">
  <div class="prototype">MaHost</div>
  <div class="apiDetail">
<p>Host Object A Host object represents a logical host.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MprFile *</td><td><td>accessLog</td><td>
File object for access logging.
</td>
    <tr><td class="param">MprList *</td><td><td>aliases</td><td>
List of Alias definitions.
</td>
    <tr><td class="param">MprList *</td><td><td>dirs</td><td>
List of Directory definitions.
</td>
    <tr><td class="param">char *</td><td><td>documentRoot</td><td>
Default directory for web documents.
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Host flags.
</td>
    <tr><td class="param">int</td><td><td>httpVersion</td><td>
HTTP/1.X.
</td>
    <tr><td class="param">char *</td><td><td>ip</td><td>
IP address.
</td>
    <tr><td class="param">char *</td><td><td>ipAddrPort</td><td>
IP:PORT address (with wildcards).
</td>
    <tr><td class="param">HttpLocation *</td><td><td>location</td><td>
Default location.
</td>
    <tr><td class="param">MprList *</td><td><td>locations</td><td>
List of Location defintions.
</td>
    <tr><td class="param">char *</td><td><td>logFormat</td><td>
Access log format.
</td>
    <tr><td class="param">struct MaHost *</td><td><td>logHost</td><td>
If set, use this hosts logs.
</td>
    <tr><td class="param">char *</td><td><td>logPath</td><td>
Access log filename.
</td>
    <tr><td class="param">char *</td><td><td>mimeFile</td><td>
Name of the mime types file.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>mimeTypes</td><td>
Hash table of mime types (key is extension).
</td>
    <tr><td class="param">char *</td><td><td>moduleDirs</td><td>
Directories for modules.
</td>
    <tr><td class="param">char *</td><td><td>name</td><td>
ServerName directive - used for redirects.
</td>
    <tr><td class="param">struct MaHost *</td><td><td>parent</td><td>
Parent host for virtual hosts.
</td>
    <tr><td class="param">int</td><td><td>port</td><td>
Listening port number.
</td>
    <tr><td class="param">MaServer *</td><td><td>server</td><td>
Meta-server owning this host.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>traceExclude</td><td>
Extensions to exclude from trace.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>traceInclude</td><td>
Extensions to include in trace.
</td>
    <tr><td class="param">int</td><td><td>traceLevel</td><td>
Trace activation level.
</td>
    <tr><td class="param">int</td><td><td>traceMask</td><td>
Request/response trace mask.
</td>
    <tr><td class="param">int</td><td><td>traceMaxLength</td><td>
Maximum trace file length (if known).
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaHostAddress</h1>
<a name="group___ma_host_address"></a>
<div class="api">
  <div class="prototype">MaHostAddress</div>
  <div class="apiDetail">
<p>Host Address Mapping.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<h1>MaMimeType</h1>
<a name="group___ma_mime_type"></a>
<div class="api">
  <div class="prototype">MaMimeType</div>
  <div class="apiDetail">
<p>Mime Type hash table entry (the URL extension is the key).</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<h1>MaUser</h1>
<a name="group___ma_user"></a>
<div class="api">
  <div class="prototype">MaUser</div>
  <div class="apiDetail">
<p>User Authorization File based authorization backend.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<h2>Functions</h2>
<h2>Typedefs</h2>
<div class="footnote">Generated on Fri Jul 09 2011 10:43:23 GMT-0700 (PDT)<br/>
  Copyright &copy; <a href="http://www.embedthis.com">Embedthis Software</a> 2011.
</div></div></body></html>
