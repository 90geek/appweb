<!DOCTYPE html>
<html lang="en">
<head>
    <title>Logging</title>
    <!-- Copyright Embedthis Software, LLC, 2003-2014. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="appweb, embedded web server, embedded, devices, http server, internet of things, esp, goahead" />
    <meta name="description" content="The fastest little web server" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
    <link href="../../../../lib/semantic/packaged/css/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../../../../css/all.css" rel="stylesheet" type="text/css" />
    <link href="../../../../images/favicon.ico" rel="shortcut icon" />

</head>
<body>
        
    <div class="ui large left vertical inverted labeled overlay sidebar menu">
        <div class="item">
            <a href="../../../../">
                <b>General</b>
            </a>
            <div class="menu">
                <a class="item" href="../../../../index.html">Appweb Overview</a>
                <a class="item" href="../../../../guide/appweb/features.html">Appweb Features</a>
                <a class="item" href="https://embedthis.com/appweb/download.html">Download</a> 
                <a class="item" href="../../../../licensing/index.html">Licensing</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../guide/appweb/users/gettingStarted.html">
                <b>Getting Started</b>
            </a>
            <div class="menu">
                <a class="item" href="../../../../guide/appweb/users/quickStart.html">Quick Start</a>
                <a class="item" href="../../../../install/index.html">Installation</a>
                <a class="item" href="../../../../guide/appweb/users/starting.html">Starting and Stopping</a>
                <a class="item" href="../../../../guide/appweb/users/service.html">Running as a Service</a>
                <a class="item" href="../../../../install/releaseNotes.html">Release Notes</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../guide/appweb/users/index.html"><b>Users Guide</b></a>
            <div class="menu">
                <a class="item" href="../../../../guide/appweb/users/configuration.html">Configuring Appweb</a>
                <a class="item" href="../../../../guide/appweb/users/configuration.html#directives">Configuration Directives</a>
                <a class="item" href="../../../../guide/appweb/users/frameworks.html">Web Frameworks</a>
                <a class="item" href="../../../../guide/appweb/users/modules.html">Using Loadable Modules</a>
                <a class="item" href="../../../../guide/appweb/users/ports.html">Ports and Binding</a>
                <a class="item" href="../../../../guide/appweb/users/routing.html">Routing Requests</a>
                <a class="item" href="../../../../guide/appweb/users/stages.html">Request Pipeline</a>
                <a class="item" href="../../../../guide/appweb/users/lang.html">Multi-Language Content</a>
                <a class="item" href="../../../../guide/appweb/users/authentication.html">User Authorization</a>
                <a class="item" href="../../../../guide/appweb/users/logFiles.html">Logging</a>
                <a class="item" href="../../../../guide/appweb/users/caching.html">Caching</a>
                <a class="item" href="../../../../guide/appweb/users/vhosts.html">Virtual Hosts</a>
                <a class="item" href="../../../../guide/appweb/users/ssl.html">Secure Sockets (SSL)</a>
                <a class="item" href="../../../../guide/appweb/users/client.html">Http Client</a>
                <a class="item" href="../../../../guide/appweb/users/security.html">Security Considerations</a>
                <a class="item" href="../../../../guide/appweb/users/monitor.html">Monitoring and Defending</a>
                <a class="item" href="../../../../guide/appweb/users/uploading.html">File Upload</a>
                <a class="item" href="../../../../guide/appweb/users/webSockets.html">WebSockets</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../guide/appweb/developers/index.html">Programmer Guide</a>
            <div class="menu">
                <a class="item" href="../../../../guide/appweb/developers/source.html">Building from Source</a>
                <a class="item" href="../../../../guide/appweb/developers/embedding.html">Embedding Appweb</a>
                <a class="item" href="../../../../guide/appweb/developers/modules.html">Creating Appweb Modules</a>
                <a class="item" href="../../../../guide/appweb/developers/handlers.html">Creating Appweb Handlers</a>
                <a class="item" href="../../../../guide/appweb/developers/stages.html">Creating Pipeline Stages</a>
                <a class="item" href="../../../../guide/appweb/developers/migrating.html">Migrating to Appweb 5</a>
                <a class="item" href="../../../../guide/appweb/developers/rom.html">Serving Pages from ROM</a>
                <a class="item" href="../../../../guide/appweb/developers/man.html">Man Pages</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../ref/appweb/index.html">Reference Guide</a>
            <div class="menu">
                <a class="item" href="../../../../ref/appweb/compatibility.html">Compatibility</a>
                <a class="item" href="../../../../ref/appweb/native.html">Native APIs</a>
                <a class="item" href="../../../../ref/appweb/architecture.html">Appweb Architecture</a>
                <a class="item" href="../../../../ref/appweb/memory.html">Appweb Memory Allocation</a>
                <a class="item" href="../../../../ref/appweb/multithread.html">Multithreaded Programming</a>
                <a class="item" href="../../../../guide/appweb/standards/http.html">HTTP References</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../guide/appweb/developers/project.html">Project Resources</a>
            <div class="menu">
                <a class="item" href="http://goo.gl/dGRDl4">Official Appweb News</a>
                <a class="item" href="https://embedthis.com/appweb/">Appweb Web Site</a>
                <a class="item" href="https://github.com/embedthis/appweb">Source Code Repository</a>
                <a class="item" href="https://github.com/embedthis/appweb/issues">Project Issue Database</a>
                <a class="item" href="https://github.com/embedthis/appweb/releases">Change Log</a>
                <a class="item" href="https://github.com/embedthis/appweb/milestones">Roadmap</a>
                <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
            </div>
        </div>
        <div class="item">
            <b>Links</b>
            <div class="menu">
                <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                <a class="item" href="http://twitter.com/mobstream">Twitter</a>
            </div>
        </div>
    </div>

    <div class="ui inverted masthead">
                <div class="column">
            <div class="inverted secondary pointing ui menu">
                <div class="header left item">
                    <!-- <a href="/index.html"><img src="/images/embedthis.png"></a> -->
                    <a href="/index.html">Appweb Documentation</a>
                </div>
                <div class="right menu">
                    <div class="ui top right">
                        <a class="item" href="https://embedthis.com/appweb/">Appweb</a>
                        <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                        <a class="item" href="http://groups.google.com/group/appweb">Support</a>
                    </div>
                </div>
            </div>
            <div class="ui breadcrumb">
                <a class="section" href="../../../../">Home</a>
                
                <div class="divider">/</div>
                <a class="section " href="../index.html">
                    Users Guide
                </a>
                
                <div class="divider">/</div>
                <a class="section " href="../configuration.html">
                    Configuration
                </a>
                
                <div class="divider">/</div>
                <a class="section active" href="log.html">
                    Logging
                </a>
                
            </div>
        </div>
        <div class="ui black small launch right attached toggle button" style="width: 40px;">
            <i class="icon list layout">
                <span class="text" style="display: none;">Menu</span>
            </i>
        </div>

    </div>
    <div class="content">
<h1>Logging Directives</h1>
            <a id="errorLog"></a>
            <h2>ErrorLog</h2>
            <table class="directive" title="directive">
                <tbody>
                    <tr>
                        <td class="pivot">Description</td>
                        <td>Configure the Appweb diagnostic error log</td>
                    </tr>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>ErrorLog path <br/>
                            &nbsp; &rarr; [size=bytes] <br/>
                            &nbsp; &rarr; [level=0-5] <br/>
                            &nbsp; &rarr; [backup=count] <br/>
                            &nbsp; &rarr; [anew]<br/>
                            &nbsp; &rarr; [stamp=period]</td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>ErrorLog error.log size=1MB level=2 backup=5 anew stamp=1hr</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The ErrorLog directive configures the diagnostic error log for Appweb. There is one
                            such error log and all error messages and trace will be written to this log.</p>
                            The given <em>path</em> may be an absolute filename or it may be
                            relative to the Home directory. 
                            <p>The <em>size</em> parameter specifies a maximum size to write to a single log file.
                            The <em>backup</em> parameter indicates how many backup log files to preserve. When the
                            maximum size is exceeded, the log files will be renamed by appending a sequential number
                            from zero up to the given path name. The highest number will be the oldest log file.</p>
                            <p>The <em>anew</em> keyword specifies that a new log file will be created whenever
                            Appweb is restarted.</p>
                            <p>The <em>level</em> argument defines a
                            logging verbosity level between 0 and 5 with 5 being the most verbose.</p>
                            <p>The following levels are generally observed:</p>
                            <table title="levels">
                                <thead>
                                    <tr>
                                        <th>Level</th>
                                        <th>Usage</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>0</td>
                                        <td>Essential messages, fatal errors and critical warnings</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>Hard errors</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Configuration setup and soft warnings</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>Useful informational messages</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>Debug information</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>Most verbose level of logging</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>If Appweb is invoked with a <em>--log</em> or <em>--verbose</em> argument, it will
                            override the ErrorLog directive which will be ignored.</p>
                            <p>A general overview of using log files is discussed in the Administration
                            section on <a href="../logFiles.html">Log Files</a>.</p>
                            <p>The <em>timestamp</em> option controls how frequently time stamps are appended to 
                            the log file. Timestamps are useful to frame the time window in which log file events
                            occurred.</p> 
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <a id="trace"></a>
            <h2>Trace</h2>
            <table class="directive" title="directive">
                <tbody>
                    <tr>
                        <td class="pivot">Description</td>
                        <td>Control the tracing of HTTP requests</td>
                    </tr>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>Log [rx|tx] <br/>
                            &nbsp; &rarr; connection=level <br/>
                            &nbsp; &rarr; errors=level <br/>
                            &nbsp; &rarr; info=level <br/>
                            &nbsp; &rarr; rxFirst=level <br/>
                            &nbsp; &rarr; rxHeaders=level <br/>
                            &nbsp; &rarr; rxBody=level <br/>
                            &nbsp; &rarr; txFirst=level <br/>
                            &nbsp; &rarr; txHeaders=level <br/>
                            &nbsp; &rarr; txBody=level <br/>
                            &nbsp; &rarr; complete=level <br/>
                            &nbsp; &rarr; size=bytes
                        </td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>Trace errors=2 rxFirst=2 rxHeaders=3 txFirst=3 txHeaders=3 connection=4 <br/>
                            &nbsp; &rarr; info=4 rxBody=5 txBody=5 complete=4 size=10K</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The Trace directive controls how HTTP requests are traced to the request log file.
                            The following classes of information can be traces. 
                            <ul>
                                <li>connection &mdash; connection oriented events</li>
                                <li>errors &mdash; request errors resulting in abnormal termination</li>
                                <li>info &mdash; request processing information</li>
                                <li>rxFirst &mdash; first line of the HTTP request header</li>
                                <li>rxHeaders &mdash; full request headers</li>
                                <li>rxBody &mdash; request body content</li>
                                <li>txFirst &mdash; first line of the HTTP response header</li>
                                <li>txHeaders &mdash; full response headers</li>
                                <li>txBody &mdash; response body content</li>
                                <li>complete &mdash; Request completion</li>
                            </ul>
                            <p>For each class, the level defines the log level at which tracing will occur.</p>
                            <p>When tracing is enabled for a HTTP message, the headers and/or body of the message
                            will be written to the log file. Binary body content will be encoded into printable hex
                            characters. Tracing will be limited to at most <em>size</em> bytes per request.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <a name="traceLog"></a>
            <h2>TraceLog</h2>
            <table class="directive" title="directive">
                <tbody>
                    <tr>
                        <td class="pivot">Description</td>
                        <td>Configure a request trace log.</td>
                    </tr>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>TraceLog path <br/>
                            &nbsp; &rarr; [anew]<br/>
                            &nbsp; &rarr; [backup=count] <br/>
                            &nbsp; &rarr; [formatter=common|detail]<br/>
                            &nbsp; &rarr; [level=0-5] <br/>
                            &nbsp; &rarr; [size=bytes] <br/>
                            &nbsp; &rarr; [stamp=period] </td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server, Virtual Host, Route</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>TraceLog request.log size=1MB backup=5 anew</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The TraceLog directive configures a request trace log that Appweb uses to write
                            request trace information. The given path may be an absolute filename or it may be
                            relative to the Home directory. The TraceLog directive applies per route and is 
                            inherited by default from outer routes in the config file.</p>
                            <p>Two output formats are available. The <em>common</em> formatter writes single-line records
                            in the Common Log standard format. The <em>detail</em> format writes multi-line records
                            with full capture of request and response headers and other details.</p>
                            <p>The <em>size</em> parameter specifies a maximum size to write to a single log file.
                            The <em>backup</em> parameter indicates how many backup log files to preserve. When the
                            maximum size is exceeded, the log files will be renamed by appending a sequential number
                            from zero up to the given path name. The highest number will be the oldest log file.</p>
                            <p>The <em>anew</em> keyword specifies that a new log file will be created whenever
                            Appweb is restarted.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
    </div>
    <div class="ui basic center aligned segment" id="terms">
        <p>&copy; Embedthis Software, 2003-2014. All rights reserved.
            Generated on Aug 21, 2014.
        </p>
    </div>

    <script src="../../../../lib/jquery/jquery.js"></script>
    <script src="../../../../lib/semantic/packaged/javascript/semantic.js"></script>
    <script>
        $('.sidebar').sidebar({overlay: false}).sidebar('toggle');
        $('.sidebar').first().sidebar('attach events', '.toggle.button');
    </script>
</body>
</html>
