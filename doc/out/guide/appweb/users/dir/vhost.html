<!DOCTYPE html>
<html lang="en">
<head>
    <title>Virtual Hosts</title>
    <!-- Copyright Embedthis Software, LLC, 2003-2014. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="embedded web server, web server software, embedded HTTP, application web server,
        embedded server, small web server, HTTP server, library web server, library HTTP, HTTP library" />
    <meta name="description" content="Embedthis Sofware provides commercial and open source embedded web servers for
        devices and applications." />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
    <link href="../../../../lib/semantic/packaged/css/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../../../../css/all.css" rel="stylesheet" type="text/css" />
    <link href="../../../../images/favicon.ico" rel="shortcut icon" />

</head>
<body>
        
    <div class="ui large left vertical inverted labeled overlay sidebar menu">
        <div class="item">
            <a href="../../../../">
                <b>General</b>
            </a>
            <div class="menu">
                <a class="item" href="../../../../index.html">Appweb Overview</a>
                <a class="item" href="../../../../guide/appweb/features.html">Appweb Features</a>
                <a class="item" href="../../../../product/releaseNotes.html">Release Notes</a>
                <a class="item" href="https://github.com/embedthis/appweb/releases">Change Log</a>
                <a class="item" href="https://github.com/embedthis/appweb/milestones">Roadmap</a>
                <a class="item" href="https://embedthis.com/appweb/download.html">Download</a> 
                <a class="item" href="../../../../product/compatibility.html">Compatibility</a>
                <a class="item" href="../../../../licenses/index.html">Licensing</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../guide/appweb/users/gettingStarted.html">
                <b>Getting Started</b>
            </a>
            <div class="menu">
                <a class="item" href="../../../../guide/appweb/users/quickStart.html">Quick Start</a>
                <a class="item" href="../../../../product/install/index.html">Installation</a>
                <a class="item" href="../../../../guide/appweb/users/faq.html">Appweb FAQ</a>
                <a class="item" href="../../../../guide/appweb/users/starting.html">Starting and Stopping</a>
                <a class="item" href="../../../../guide/appweb/users/service.html">Running as a Service</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../guide/appweb/users/index.html"><b>Users Guide</b></a>
            <div class="menu">
                <a class="item" href="../../../../guide/appweb/users/configuration.html">Configuring Appweb</a>
                <a class="item" href="../../../../guide/appweb/users/configuration.html#directives">Configuration Directives</a>
                <a class="item" href="../../../../guide/appweb/users/frameworks.html">Web Frameworks</a>
                <a class="item" href="../../../../guide/appweb/users/modules.html">Using Loadable Modules</a>
                <a class="item" href="../../../../guide/appweb/users/ports.html">Ports and Binding</a>
                <a class="item" href="../../../../guide/appweb/users/routing.html">Routing Requests</a>
                <a class="item" href="../../../../guide/appweb/users/stages.html">Request Pipeline</a>
                <a class="item" href="../../../../guide/appweb/users/lang.html">Multi-Language Content</a>
                <a class="item" href="../../../../guide/appweb/users/authentication.html">User Authorization</a>
                <a class="item" href="../../../../guide/appweb/users/logFiles.html">Logging</a>
                <a class="item" href="../../../../guide/appweb/users/caching.html">Caching</a>
                <a class="item" href="../../../../guide/appweb/users/vhosts.html">Virtual Hosts</a>
                <a class="item" href="../../../../guide/appweb/users/ssl.html">Secure Sockets (SSL)</a>
                <a class="item" href="../../../../guide/appweb/users/client.html">Http Client</a>
                <a class="item" href="../../../../guide/appweb/users/security.html">Security Considerations</a>
                <a class="item" href="../../../../guide/appweb/users/monitor.html">Monitoring and Defending</a>
                <a class="item" href="../../../../guide/appweb/users/uploading.html">File Upload</a>
                <a class="item" href="../../../../guide/appweb/users/webSockets.html">WebSockets</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../guide/appweb/programmers/index.html">Programmer Guide</a>
            <div class="menu">
                <a class="item" href="../../../../guide/appweb/programmers/source.html">Building from Source</a>
                <a class="item" href="../../../../guide/appweb/programmers/embedding.html">Embedding Appweb</a>
                <a class="item" href="../../../../guide/appweb/programmers/modules.html">Creating Appweb Modules</a>
                <a class="item" href="../../../../guide/appweb/programmers/handlers.html">Creating Appweb Handlers</a>
                <a class="item" href="../../../../guide/appweb/programmers/stages.html">Creating Pipeline Stages</a>
                <a class="item" href="../../../../guide/appweb/programmers/migrating.html">Migrating to Appweb 5</a>
                <a class="item" href="../../../../guide/appweb/programmers/rom.html">Serving Pages from ROM</a>
                <a class="item" href="../../../../guide/appweb/programmers/man.html">Man Pages</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../ref/appweb/index.html">Reference Guide</a>
            <div class="menu">
                <a class="item" href="../../../../ref/appweb/native.html">API Library</a>
                <a class="item" href="../../../../ref/appweb/memory.html">Appweb Memory Allocation</a>
                <a class="item" href="../../../../ref/appweb/multithread.html">Multithreaded Programming</a>
                <a class="item" href="../../../../ref/appweb/architecture.html">Appweb Architecture</a>
                <a class="item" href="../../../../guide/appweb/standards/http.html">HTTP References</a>
            </div>
        </div>
        <div class="item">
            <a href="../../../../product/project.html">Project Resources</a>
            <div class="menu">
                <a class="item" href="https://github.com/embedthis/appweb">Source Code Repository</a>
                <a class="item" href="https://github.com/embedthis/appweb/issues">Project Issue Database</a>
                <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
            </div>
        </div>
        <div class="item">
            <b>Links</b>
            <div class="menu">
                <a class="item" href="http://goo.gl/dGRDl4">Official Appweb News</a>
                <a class="item" href="http://groups.google.com/group/appweb">Community Support</a>
                <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                <a class="item" href="https://embedthis.com/appweb/">Appweb Web Site</a>
                <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                <a class="item" href="http://twitter.com/mobstream">Twitter</a>
            </div>
        </div>
    </div>

    <div class="ui inverted masthead">
                <div class="column">
            <div class="inverted secondary pointing ui menu">
                <div class="header left item">
                    <!-- <a href="/index.html"><img src="/images/embedthis.png"></a> -->
                    <a href="/index.html">Appweb Documentation</a>
                </div>
                <div class="right menu">
                    <div class="ui top right">
                        <a class="item" href="https://embedthis.com/appweb/">Appweb</a>
                        <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                        <a class="item" href="http://groups.google.com/group/appweb">Support</a>
                    </div>
                </div>
            </div>
            <div class="ui breadcrumb">
                <a class="section" href="../../../../">Home</a>
                
                <div class="divider">/</div>
                <a class="section " href="../index.html">
                    Users Guide
                </a>
                
                <div class="divider">/</div>
                <a class="section " href="../configuration.html">
                    Configuration
                </a>
                
                <div class="divider">/</div>
                <a class="section active" href="vhost.html">
                    Virtual Hosts
                </a>
                
            </div>
        </div>
        <div class="ui black small launch right attached toggle button" style="width: 40px;">
            <i class="icon list layout">
                <span class="text" style="display: none;">Menu</span>
            </i>
        </div>

    </div>
    <div class="content">
<a id="namedVirtualHost"></a>
            <h1>Virtual Host Directives</h1>
            <h2>NameVirtualHost</h2>
            <table class="directive" title="directive">
                <tbody>
                    <tr>
                        <td class="pivot">Description</td>
                        <td>Nominates an IP address as using name based virtual hosting</td>
                    </tr>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>NameVirtualHost IPaddr[:port]</td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>NameVirtualHost 206.148.97.56<br />
                        &lt;VirtualHost 206.148.97.56&gt;<br />
                        ...<br />
                        &lt;/VirtualHost&gt;</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The NameVirtualHost directive specifies that an IP address will be used for name based
                            virtual hosting. Appweb provides two virtual hosting mechanisms:</p>
                            <ul>
                                <li>IP based</li>
                                <li>Name based</li>
                            </ul>
                            <p>IP based virtual hosting uses a dedicated IP address for each virtual host on a server.
                            Name based hosting uses one IP address for a set of virtual hosts that are distinguished
                            from each other by a "Host" HTTP header.</p>
                            <p>The IPAddress argument may be "*" in which case addresses on which Appweb is listening
                            will use name based virtual hosting.</p>
                            <h3>Example of Name Based Virtual Hosting</h3>
                            <p>This example shows two virtual hosts with independent document webs. Both share the same
                            IP address and use the "Host" HTTP header to select the appropriate virtual host.</p>
                            <pre>
NameVirtualHost 206.148.97.56
&lt;VirtualHost 206.148.97.56&gt;
    ServerName www.acme.com
    DocumentRoot /var/www/acme
    ...
&lt;/VirtualHost&gt;
&lt;VirtualHost 206.148.97.56&gt;
    ServerName www.coyote.com
    DocumentRoot /var/www/coyote
    ...
&lt;/VirtualHost&gt;
</pre>
                            <h3>Example of IP Based Virtual Hosting</h3>
                            <p>This example shows two virtual hosts with independent document webs. Each has a
                            dedicated IP address.</p>
                            <pre>
&lt;VirtualHost 206.148.97.56&gt;
    ServerName www.acme.com
    DocumentRoot /var/www/acme
    ...
&lt;/VirtualHost&gt;
&lt;VirtualHost 206.148.97.57&gt;
    ServerName www.coyote.com
    DocumentRoot /var/www/coyote
    ...
&lt;/VirtualHost&gt;
</pre>
                            <p>You can use both IP based and name based hosting on one server.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="security">Security</td>
                        <td>
                            <p>You should only ever use an IP address for the argument to the directive. Using a host
                            name will cause a DNS lookup which makes the availability of your web server dependent on
                            the DNS server.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <a id="virtualHost"></a>
            <h2>VirtualHost</h2>
            <table class="directive" title="directive">
                <tbody>
                    <tr>
                        <td class="pivot">Description</td>
                        <td>Create a new directive block that applies to a specific IP address. The VirtualHost block
                            inherits the existing configuration at the point of the opening VirtualHost directive.</td>
                    </tr>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>&lt;VirtualHost IPaddress[:port] [, IPaddress[:port]]...&gt;<br />
                        ...<br />
                        &lt;/VirtualHost&gt;</td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>
                            <pre>
&lt;VirtualHost 206.148.97.56:443&gt;
    ServerName www.acme.com
    DocumentRoot /var/www/acme
    SSLEngine on
    ....
&lt;/VirtualHost&gt;
</pre>
                        </td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The VirutalHost directive defines a block of directives that will apply to the nominated
                            IP addresses. The IPaddresses specifies the set of IP addresses for this VirtualHost. 
                            Note: this does not cause Appweb to listen on these addresses. You will still need an 
                            appropriate Listen directive for each IP address. The IPaddress can be set to "*" 
                            in which case the VirtualHost will listen on all interfaces.</p>
                            <p>If the IPaddress is also specified in a NameVirtualHost directive, the virtual host will
                            use name based hosting. This requires the browser (as nearly all modern browsers do), to
                            include the domain portion of the URL in the HTTP host header. Appweb examines this header
                            and routes the request to the Virtual Host that has a corresponding ServerName</p>
                            <p>NOTE: Unlike Apache, only one IPaddress may be specified per VirtualHost directive.</p>
                            <p>The ServerName may being with a "*" which means match any hosts that contains the following
                            host name. For example "*.embedthis.com" will then match blog.embedthis.com and www.embedthis.com.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
    </div>
    <div class="ui basic center aligned segment" id="terms">
        <p>&copy; Embedthis Software, 2003-2014. All rights reserved.
            Generated on Aug 19, 2014.
        </p>
    </div>

    <script src="../../../../lib/jquery/jquery.js"></script>
    <script src="../../../../lib/semantic/packaged/javascript/semantic.js"></script>
    <script>
        $('.sidebar').sidebar({overlay: false}).sidebar('toggle');
        $('.sidebar').first().sidebar('attach events', '.toggle.button');
    </script>
</body>
</html>
