<!DOCTYPE html>
<html lang="en">
<head>
    <title>Supporting Packages</title>
    <!-- Copyright Embedthis Software, LLC, 2003-2014. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="embedded web server, web server software, embedded HTTP, application web server,
        embedded server, small web server, HTTP server, library web server, library HTTP, HTTP library" />
    <meta name="description" content="Embedthis Sofware provides commercial and open source embedded web servers for
        devices and applications." />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
    <link href="../../lib/semantic/packaged/css/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../../css/all.css" rel="stylesheet" type="text/css" />
    <link href="../../images/favicon.ico" rel="shortcut icon" />

</head>
<body>
        
    <div class="ui large left vertical inverted labeled overlay sidebar menu">
        <div class="item">
            <a href="../../">
                <b>General</b>
            </a>
            <div class="menu">
                <a class="item" href="../../index.html">Appweb Overview</a>
                <a class="item" href="../../guide/appweb/features.html">Appweb Features</a>
                <a class="item" href="../../product/releaseNotes.html">Release Notes</a>
                <a class="item" href="https://github.com/embedthis/appweb/releases">Change Log</a>
                <a class="item" href="https://github.com/embedthis/appweb/milestones">Roadmap</a>
                <a class="item" href="https://embedthis.com/appweb/download.html">Download</a> 
                <a class="item" href="../../product/compatibility.html">Compatibility</a>
                <a class="item" href="../../licenses/index.html">Licensing</a>
            </div>
        </div>
        <div class="item">
            <a href="../../guide/appweb/users/gettingStarted.html">
                <b>Getting Started</b>
            </a>
            <div class="menu">
                <a class="item" href="../../guide/appweb/users/quickStart.html">Quick Start</a>
                <a class="item" href="../../product/install/index.html">Installation</a>
                <a class="item" href="../../guide/appweb/users/faq.html">Appweb FAQ</a>
                <a class="item" href="../../guide/appweb/users/starting.html">Starting and Stopping</a>
                <a class="item" href="../../guide/appweb/users/service.html">Running as a Service</a>
            </div>
        </div>
        <div class="item">
            <a href="../../guide/appweb/users/index.html"><b>Users Guide</b></a>
            <div class="menu">
                <a class="item" href="../../guide/appweb/users/configuration.html">Configuring Appweb</a>
                <a class="item" href="../../guide/appweb/users/configuration.html#directives">Configuration Directives</a>
                <a class="item" href="../../guide/appweb/users/frameworks.html">Web Frameworks</a>
                <a class="item" href="../../guide/appweb/users/modules.html">Using Loadable Modules</a>
                <a class="item" href="../../guide/appweb/users/ports.html">Ports and Binding</a>
                <a class="item" href="../../guide/appweb/users/routing.html">Routing Requests</a>
                <a class="item" href="../../guide/appweb/users/stages.html">Request Pipeline</a>
                <a class="item" href="../../guide/appweb/users/lang.html">Multi-Language Content</a>
                <a class="item" href="../../guide/appweb/users/authentication.html">User Authorization</a>
                <a class="item" href="../../guide/appweb/users/logFiles.html">Logging</a>
                <a class="item" href="../../guide/appweb/users/caching.html">Caching</a>
                <a class="item" href="../../guide/appweb/users/vhosts.html">Virtual Hosts</a>
                <a class="item" href="../../guide/appweb/users/ssl.html">Secure Sockets (SSL)</a>
                <a class="item" href="../../guide/appweb/users/client.html">Http Client</a>
                <a class="item" href="../../guide/appweb/users/security.html">Security Considerations</a>
                <a class="item" href="../../guide/appweb/users/monitor.html">Monitoring and Defending</a>
                <a class="item" href="../../guide/appweb/users/uploading.html">File Upload</a>
                <a class="item" href="../../guide/appweb/users/webSockets.html">WebSockets</a>
            </div>
        </div>
        <div class="item">
            <a href="../../guide/appweb/programmers/index.html">Programmer Guide</a>
            <div class="menu">
                <a class="item" href="../../guide/appweb/programmers/embedding.html">Embedding Appweb</a>
                <a class="item" href="../../guide/appweb/programmers/modules.html">Creating Appweb Modules</a>
                <a class="item" href="../../guide/appweb/programmers/handlers.html">Creating Appweb Handlers</a>
                <a class="item" href="../../guide/appweb/programmers/stages.html">Creating Pipeline Stages</a>
                <a class="item" href="../../guide/appweb/programmers/migrating.html">Migrating to Appweb 5</a>
                <a class="item" href="../../guide/appweb/programmers/rom.html">Serving Pages from ROM</a>
                <a class="item" href="../../guide/appweb/programmers/man.html">Man Pages</a>
            </div>
        </div>
        <div class="item">
            <a href="../../ref/appweb/index.html">Reference Guide</a>
            <div class="menu">
                <a class="item" href="../../ref/appweb/native.html">API Library</a>
                <a class="item" href="../../ref/appweb/memory.html">Appweb Memory Allocation</a>
                <a class="item" href="../../ref/appweb/multithread.html">Multithreaded Programming</a>
                <a class="item" href="../../ref/appweb/architecture.html">Appweb Architecture</a>
                <a class="item" href="../../guide/appweb/standards/http.html">HTTP References</a>
            </div>
        </div>
        <div class="item">
            <a href="../../guide/appweb/source/index.html">Source Code</a>
            <div class="menu">
                <a class="item" href="../../guide/appweb/source/building.html">Building Appweb from Source</a>
                <a class="item" href="../../guide/appweb/source/porting.html">Porting to New Platforms</a>
            </div>
        </div>
        <div class="item">
            <a href="../../product/project.html">Project Resources</a>
            <div class="menu">
                <a class="item" href="https://github.com/embedthis/appweb">Source Code Repository</a>
                <a class="item" href="https://github.com/embedthis/appweb/issues">Project Issue Database</a>
                <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
            </div>
        </div>
        <div class="item">
            <b>Links</b>
            <div class="menu">
                <a class="item" href="http://goo.gl/dGRDl4">Official Appweb News (Google+)</a>
                <a class="item" href="http://groups.google.com/group/appweb">Appweb Community Support</a>
                <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                <a class="item" href="https://embedthis.com/appweb/">Appweb Web Site</a>
                <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                <a class="item" href="http://twitter.com/mobstream">Twitter</a>
            </div>
        </div>
    </div>

    <div class="ui inverted masthead">
                <div class="column">
            <div class="inverted secondary pointing ui menu">
                <div class="header left item">
                    <!-- <a href="/index.html"><img src="/images/embedthis.png"></a> -->
                    <a href="/index.html">Appweb Documentation</a>
                </div>
                <div class="right menu">
                    <div class="ui top right">
                        <a class="item" href="https://embedthis.com/appweb/">Appweb</a>
                        <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                        <a class="item" href="http://groups.google.com/group/appweb">Support</a>
                    </div>
                </div>
            </div>
            <div class="ui breadcrumb">
                <a class="section" href="../../">Home</a>
                
                <div class="divider">/</div>
                <a class="section " href="index.html">
                    Installation
                </a>
                
                <div class="divider">/</div>
                <a class="section active" href="packages.html">
                    Supporting Packages
                </a>
                
            </div>
        </div>
        <div class="ui black small launch right attached toggle button" style="width: 40px;">
            <i class="icon list layout">
                <span class="text" style="display: none;">Menu</span>
            </i>
        </div>

    </div>
    <div class="content">
<h1>Installing Supporting Packages</h1>
            <p>Appweb leverages other packages such as OpenSSL for additional functionality. Appweb may be built for
            specific environments such as the small C library, uClibc.</p>
            <p>Sometimes, you may have a requirement to rebuild one of these packages to add or remove features. This
            document describes the build process that Embedthis uses to build these packages. <b>NOTE:</b> we cannot
            support the building of these 3rd party packages. That is your responsibility and the responsibility of the
            various groups and vendors who provide these packages.</p>
            <p>See the package specific notes for:</p>
            <ul>
                <li><a href="#matrixssl">MatrixSSL</a></li>
                <li><a href="#openssl">OpenSSL</a></li>
                <li><a href="#uclibc">uClibc</a></li>
            </ul>
            <h2 class="section">Patched Packages</h2>
            <p>Often minor changes are required to get a package to build cleanly with Appweb on some platforms.
            Embedthis archives the patched packages used with Appweb in a Git repository at <a href=
            "http://github.com/embedthis/packages">http://github.com/embedthis/packages</a>.</p>
            <p>Use the following to checkout a copy of the packages:</p>
            <pre>
git clone http://github.com/embedthis/packages
</pre>
            <p>There is a top level Makefile which will build all the packages and there are individual Makefiles for
            each package. <b>NOTE:</b> Embedthis provides these packages as a service. The Makefiles and packages
            themselves are not supported.</p><a id="matrixssl"></a>
            <h2 class="section">MatrixSSL</h2>
            <p><a href="http://www.peersec.com">PeerSec</a> provide the <a href=
            "http://www.matrixssl.org">MatrixSSL TLS/SSL</a> product which can be downloaded from <a href=
            "http://www.matrixssl.org">www.matrixssl.org</a>. Consult their instructions and build using the standard
            steps.</p>
            <p>Configure Appweb using the --with matrixssl switch</p>
            <pre>
./configure --with matrixssl    
</pre>
            <p>You may need to edit the build/packages/matrixssl configuration file to further modify the compiler and
            linker flags and search paths to match your configuration. You may need to define the base directory which
            can optionally be provided as a switch to the --with matrixssl switch.</p><a id="openssl"></a>
            <h2 class="section">OpenSSL</h2>
            <p>These instructions are suitable for building OpenSSL version 0.9.7d.</p>
            <ul>
                <li><a href="#openssllinux">OpenSSL 0.9.7d on Linux</a></li>
                <li><a href="#opensslwindows">OpenSSL 0.9.7d on Windows</a></li>
            </ul><a id="openssllinux"></a>
            <h3>Building OpenSSL 0.9.7d on Linux for X886</h3>
            <p>Use the following commands to build OpenSSL natively on Linux:</p>
            <pre>
./config
make
</pre>
            <p>To build single threaded, use the "--no-threads" option. If you wish to also build OpenSSL as shared
            libraries, use:</p>
            <pre>
make build-shared
</pre>
            <p>After you have built OpenSSL you must reference the OpenSSL installation directory in your Appweb
            configuration. You can set this via the <b>configure</b> command. You may need to define the base directory
            which can optionally be provided as a switch to the --with openssl switch.</p>
            <pre>
./configure --with openssl=../../openssl-0.9.7d
</pre>
            <p>You may need to edit the build/packages/openssl configuration file to further modify the compiler and
            linker flags and search paths to match your configuration.</p><a id="opensslwindows"></a>
            <h3>Building OpenSSL 0.9.7d on Windows for X886</h3>
            <p>The Windows OpenSSL build system uses Perl and nmake. The following commands will build the required
            shared libraries (DLLs) for Appweb to use OpenSSL.</p>
            <pre>
perl Configure VC-WIN32
cmd /c ms\\do_masm
rm -f libcrypto.lib libeay32.dll libssl.lib ssleay32.dll
rm -f out32dll/*.exe out32dll/*.dll out32dll/*.lib
rm -f tmp32dll/*
perl Configure VC-WIN32
cmd /c ms\\do_masm.bat
nmake -f ms/ntdll.mak
mv out32dll/libeay32.lib libcrypto.lib
mv out32dll/ssleay32.lib libssl.lib
mv out32dll/*.dll .
cp -r inc32/openssl include
</pre>
            <p>After you have built OpenSSL you must reference the OpenSSL installation directory in your Appweb
            configuration. You can set this via the <b>configure</b> command. You may need to define the base directory
            which can optionally be provided as a switch to the --with openssl switch.</p>
            <pre>
./configure --with openssl=../../openssl-0.9.7d
</pre>
            <p>You may need to edit the build/packages/openssl configuration file to further modify the compiler and
            linker flags and search paths to match your configuration.</p><a id="uclibc"></a>
            <h2 class="section">uClibc</h2>
            <p>To get the smallest executable possible, there are several alternatives to the standard libc library.
            One of the leading tiny libcs on Linux is uClibc. For general information go to: <a href=
            "http://www.uclibc.org">www.uclibc.org</a>.</p>
            <p>To link with uClibc, you must first create a compiler tool chain that will link Appweb with the uClibc
            library. This is not always an easy process. The easiest way appears to be to get one of the pre-built root
            file systems that contain the complete cross compiler and uClibc library. You then mount this file system,
            make it your root file system and copy the Appweb source into it and build it there.</p>
            <p>When you run the <b>configure</b> command, you will need to supply the Cross compiler settings. These
            are passed to <b>configure</b> via environment variables. For example, the following script configures
            Appweb to build using the arm-linux cross compiler (supporting uclibc) that is installed under
            /usr/local.</p>
            <pre>
DIR=/usr/local ; \<br />export CC=arm-linux-uclibc-gcc ; \<br />GCC_DIR=`$$CC -print-libgcc-file-name 2&gt;&amp;1 | sed -e 's/\/libgcc.a//'` ; \<br />AR=arm-linux-uclibc-ar \<br />LD=arm-linux-uclibc-ld \<br />RANLIB=arm-linux-uclibc-ranlib \<br />IFLAGS="-I$$DIR/arm-linux-uclibc/include -I$$GCC_DIR/include" \<br />LDFLAGS="-L$$GCC_DIR/lib -L$$DIR/arm-linux-uclibc/lib \<br />    -Wl,--dynamic-linker -Wl,$$DIR/i386-linux/lib/ld-uClibc.so.0" \<br />./configure
</pre>
            <p>See <a href="../../guide/appweb/source/building.html">Building Appweb from Source</a> for full details
            on all the available <b>configure</b> switches.</p><a id="uclinux"></a>
    </div>
    <div class="ui basic center aligned segment" id="terms">
        <p>&copy; Embedthis Software, 2003-2014. All rights reserved.
            Generated on Aug 15, 2014.
        </p>
    </div>

    <script src="../../lib/jquery/jquery.js"></script>
    <script src="../../lib/semantic/packaged/javascript/semantic.js"></script>
    <script>
        $('.sidebar').sidebar({overlay: false}).sidebar('toggle');
        $('.sidebar').first().sidebar('attach events', '.toggle.button');
    </script>
</body>
</html>
