#
#   esp.conf -- Extended Embedded Server Pages configuration
#   

#
#   Default compilation command. Overridden below for some operating systems.
#
#   -mtune=${ARCH}
#
EspCompile cc -shared ${DEBUG} -Wall -Wno-unused-result -DPIC -fPIC -I${INC} -L${LIB} -Wl,--enable-new-dtags -Wl,-rpath,$ORIGIN/ -Wl,-rpath,$ORIGIN/../lib ${LIB}/mod_esp${SHLIB} -lappweb -o ${OUT}${SHLIB} ${SRC}.c 


<if WIN>
    EspCompile cc -g -dynamiclib -DPIC -Wall -fPIC -arch x86_64 -I${INC} -L${LIB} -Wl,-rpath,@executable_path/../lib -Wl,-rpath,@executable_path/../modules -Wl,-rpath,@executable_path/ -Wl,-rpath,@loader_path/ -install_name @rpath/${LIB}${SHLIB} ${LIB}/mod_esp${SHLIB} -lappweb -lhttp -lmpr -lpthread -lm -o ${LIB}${SHLIB} ${SRC}.c 
</if>


<if MACOSX>
    EspCompile cc -dynamiclib ${DEBUG} -Wall -DPIC -fPIC -arch ${ARCH} -I${INC} -L${LIB} -Wl,-rpath,@executable_path/../lib -Wl,-rpath,@executable_path/ -Wl,-rpath,@loader_path/ -install_name @rpath/${LIB}${SHLIB} ${LIB}/mod_esp${SHLIB} -lappweb -lpcre -lhttp -lmprssl -lmpr -lpthread -lm -o ${OUT}${SHLIB} ${SRC}.c 
</if>
