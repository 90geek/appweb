#
#   esp.conf -- Extended Embedded Server Pages configuration
#   

#
#   Default compilation command. Overridden below for some operating systems.
#   This is used for MACOSX, LINUX, FREEBSD and other GCC compilers
#
EspCompile cc -shared ${DEBUG} -Wall -Wno-unused-result -DPIC -fPIC -mtune=${ARCH} -I${INC} -L${LIB} -Wl,--enable-new-dtags -Wl,-rpath,$ORIGIN/ -Wl,-rpath,$ORIGIN/../lib ${LIB}/mod_esp${SHOBJ} -lappweb -o ${OUT}${SHOBJ} ${SRC}.c 


<if WIN>
    EspCompile cl -LD ${DEBUG} -D_REENTRANT -D_MT -nologo -GR- -W3 -MDd -I${INC} -Fe${OUT}${SHOBJ} ${SRC}.c ${LIB}\mod_esp${SHLIB} ${LIB}\libappweb.lib ws2_32.lib

    EspEnv INCLUDE "C:\Program Files\Microsoft Visual Studio 10.0\VC\INCLUDE;C:\Program Files\Microsoft SDKs\Windows\v7.1\include"
    EspEnv LIB "C:\Program Files\Microsoft SDKs\Windows\v7.1\LIB;C:\Program Files\Microsoft Visual Studio 10.0\VC\lib"
    EspEnv PATH "C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE;C:\Program Files\Microsoft Visual Studio 10.0\VC\bin;C:\Program Files\Microsoft Visual Studio 10.0\Common7\Tools;C:\Program Files\Microsoft Visual Studio 10.0\SDK\v3.5\bin;C:\Program Files\Microsoft Visual Studio 10.0\VC\VCPackages;C:\Program Files\Microsoft SDKs\Windows\v7.1\bin"

</if>

<if MACOSX>
    EspCompile cc -dynamiclib ${DEBUG} -Wall -DPIC -fPIC -arch ${ARCH} -I${INC} -L${LIB} -Wl,-rpath,@executable_path/../lib -Wl,-rpath,@executable_path/ -Wl,-rpath,@loader_path/ -install_name @rpath/${LIB}${SHOBJ} ${LIB}/mod_esp${SHOBJ} -lappweb -lpcre -lhttp -lmprssl -lmpr -lpthread -lm -o ${OUT}${SHOBJ} ${SRC}.c 
</if>

<if VXWORKS>
    EspCompile cc -shared ${DEBUG} -Wall -Wno-unused-result -DPIC -fPIC -mtune=${ARCH} -I${INC} -L${LIB} -Wl,--enable-new-dtags -Wl,-rpath,$ORIGIN/ -Wl,-rpath,$ORIGIN/../lib ${LIB}/mod_esp${SHOBJ} -lappweb -o ${OUT}${SHOBJ} ${SRC}.c 
</if>
